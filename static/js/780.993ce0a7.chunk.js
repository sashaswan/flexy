"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[780],{3780:function(s,t,e){e.r(t),e.d(t,{default:function(){return X}});var a=e(1413),i=e(5671),o=e(3144),r=e(136),n=e(3668),u=e(2791),l={background:"Profile_background__v5xuG"},c=e(6596),d="ProfileInfo_name__nzLXx",p="ProfileInfo_aboutMe__l7xQO",f="ProfileInfo_job__4-3LH",h="ProfileInfo_description__u7GZ5",_="ProfileInfo_ava__Zv058",x=e(3560),P=e(885),m="ProfileStatus_status__-xoik",j="ProfileStatus_editStatus__eytKj",v=e(184),N=function(s){var t=(0,u.useState)(!1),e=(0,P.Z)(t,2),a=e[0],i=e[1],o=(0,u.useState)(s.status),r=(0,P.Z)(o,2),n=r[0],l=r[1];(0,u.useEffect)((function(){l(s.status)}),[s.status]);return(0,v.jsxs)("div",{children:[!a&&(0,v.jsx)("div",{className:m,children:(0,v.jsx)("p",{onDoubleClick:function(){i(!0)},children:s.status||"-----"})}),a&&(0,v.jsx)("div",{className:j,children:(0,v.jsx)("input",{autoFocus:!0,onBlur:function(){i(!1),s.updateStatus(n)},onChange:function(s){l(s.currentTarget.value)},value:n})})]})},g=function(s){var t=s.profile,e=s.status,a=s.updateStatus,i=s.isOwner,o=s.savePhoto;if(!t)return(0,v.jsx)(x.Z,{});return(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:_,children:(0,v.jsx)("img",{src:null!=t.photos.small?t.photos.small:c,alt:"profilePicture"})}),(0,v.jsxs)("div",{className:h,children:[(0,v.jsx)("p",{className:d,children:t.fullName}),(0,v.jsx)(N,{status:e,updateStatus:a}),(0,v.jsx)("p",{className:p,children:t.aboutMe}),(0,v.jsx)("p",{className:f,children:t.lookingForAJobDescription}),i&&(0,v.jsx)("input",{onChange:function(s){s.target.files.length&&o(s.target.files[0])},type:"file"})]})]})},w="MyPosts_box__bfQAZ",b="MyPosts_title__Ln5To",k="MyPosts_form__hrebz",y="MyPosts_button__TKXtI",S="MyPosts_addPostInput__dAfsT",I="MyPosts_postreq__U5tpU",Z="NewPost_new__vThmF",M="NewPost_postBlock__COEfq",C="NewPost_text__eZLh5",T="NewPost_likes__y8GJW",U="NewPost_likesCount__198qo",L="NewPost_ava__4LY6w",O=e(7151),A=function(s){return(0,v.jsx)("div",{children:(0,v.jsx)("div",{className:Z,children:(0,v.jsxs)("div",{className:M,children:[(0,v.jsx)("div",{className:L,children:(0,v.jsx)("img",{src:c,alt:"profilePicture"})}),(0,v.jsx)("p",{className:C,children:s.text}),(0,v.jsxs)("div",{className:T,children:[(0,v.jsx)("img",{src:O,alt:"finger"}),(0,v.jsxs)("p",{className:U,children:["Likes Count: ",s.likes]})]})]})})})},q=e(6864),z=e(4820),D=u.memo((function(s){var t=s.postText.map((function(s){return(0,v.jsx)(A,{text:s.text,likes:s.likes},s.id)}));return(0,v.jsx)("div",{children:(0,v.jsxs)("div",{className:w,children:[(0,v.jsx)("p",{className:b,children:"My Posts"}),(0,v.jsx)(G,{addPost:s.addPost}),t]})})})),G=function(s){return(0,v.jsx)(q.J9,{initialValues:{newPost:""},validationSchema:z.MR,onSubmit:function(t){s.addPost(t.newPost)},children:function(s){var t=s.errors,e=s.touched;return(0,v.jsxs)(q.l0,{className:k,children:[(0,v.jsxs)("div",{className:S,children:[(0,z.Gr)("New Post","newPost","text",z.MR),t.newPost&&e.newPost?(0,v.jsx)("p",{className:I,children:t.newPost}):null]}),(0,v.jsx)("button",{className:y,type:"submit",children:"New Post"})]})}})},J=D,R=e(6508),F=e(364),B=(0,F.$j)((function(s){return{postText:s.profilePage.postText,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(t){s((0,R.Wl)(t))}}}))(J),E=function(s){return(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:l.background,children:(0,v.jsx)("div",{className:l.center,children:(0,v.jsx)(g,{isOwner:s.isOwner,savePhoto:s.savePhoto,profile:s.profile,status:s.status,updateStatus:s.updateStatus})})}),(0,v.jsx)(B,{})]})},K=e(1045),Q=e(7781),W=function(s){(0,r.Z)(e,s);var t=(0,n.Z)(e);function e(){return(0,i.Z)(this,e),t.apply(this,arguments)}return(0,o.Z)(e,[{key:"refreshProfile",value:function(){var s=this.props.match.params.userId;s||(s=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(s),this.props.getStatus(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,t,e){this.props.match.params.userId!==s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,v.jsx)(E,(0,a.Z)((0,a.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),e}(u.Component),X=(0,Q.qC)((0,F.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:R.et,getStatus:R.lR,updateStatus:R.Nf,savePhoto:R.Ju}),K.withRouter)(W)},6596:function(s,t,e){s.exports=e.p+"static/media/avatar.cbb33afd2b42ae6acbbd.png"},7151:function(s,t,e){s.exports=e.p+"static/media/like.6dc22afeea1bdc9e9a32.png"}}]);
//# sourceMappingURL=780.993ce0a7.chunk.js.map