"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[780],{3780:function(s,e,t){t.r(e),t.d(e,{default:function(){return V}});var a=t(1413),i=t(5671),o=t(3144),r=t(136),n=t(3668),l=t(2791),u={background:"Profile_background__v5xuG"},c=t(6596),d="ProfileInfo_name__nzLXx",p="ProfileInfo_aboutMe__l7xQO",f="ProfileInfo_job__4-3LH",h="ProfileInfo_description__u7GZ5",_="ProfileInfo_ava__Zv058",x="ProfileInfo_circle__rrF53",m="ProfileInfo_inputfile__-smF3",P="ProfileInfo_upload__OKigD",j=t(3560),v=t(885),N="ProfileStatus_status__-xoik",g="ProfileStatus_editStatus__eytKj",w=t(184),b=function(s){var e=(0,l.useState)(!1),t=(0,v.Z)(e,2),a=t[0],i=t[1],o=(0,l.useState)(s.status),r=(0,v.Z)(o,2),n=r[0],u=r[1];(0,l.useEffect)((function(){u(s.status)}),[s.status]);return(0,w.jsxs)("div",{children:[!a&&(0,w.jsx)("div",{className:N,children:(0,w.jsx)("p",{onDoubleClick:function(){i(!0)},children:s.status||"-----"})}),a&&(0,w.jsx)("div",{className:g,children:(0,w.jsx)("input",{autoFocus:!0,onBlur:function(){i(!1),s.updateStatus(n)},onChange:function(s){u(s.currentTarget.value)},value:n})})]})},k=function(s){var e=s.profile,t=s.status,a=s.updateStatus,i=s.isOwner,o=s.savePhoto;if(!e)return(0,w.jsx)(j.Z,{});return(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{className:_,children:(0,w.jsx)("img",{src:null!=e.photos.small?e.photos.small:c,className:x,alt:"profilePicture"})}),(0,w.jsxs)("div",{className:h,children:[(0,w.jsx)("p",{className:d,children:e.fullName}),(0,w.jsx)(b,{status:t,updateStatus:a}),(0,w.jsx)("p",{className:p,children:e.aboutMe}),(0,w.jsx)("p",{className:f,children:e.lookingForAJobDescription}),i&&(0,w.jsxs)("div",{children:[(0,w.jsx)("input",{onChange:function(s){s.target.files.length&&o(s.target.files[0])},type:"file",id:"exampleFileUpload",className:m}),(0,w.jsx)("label",{for:"exampleFileUpload",className:P,children:"Upload File"})]})]})]})},y="MyPosts_box__bfQAZ",I="MyPosts_title__Ln5To",S="MyPosts_form__hrebz",Z="MyPosts_button__TKXtI",M="MyPosts_addPostInput__dAfsT",C="MyPosts_postreq__U5tpU",T="NewPost_new__vThmF",U="NewPost_postBlock__COEfq",F="NewPost_text__eZLh5",O="NewPost_likes__y8GJW",L="NewPost_likesCount__198qo",A="NewPost_ava__4LY6w",D=t(7151),q=function(s){return(0,w.jsx)("div",{children:(0,w.jsx)("div",{className:T,children:(0,w.jsxs)("div",{className:U,children:[(0,w.jsx)("div",{className:A,children:(0,w.jsx)("img",{src:c,alt:"profilePicture"})}),(0,w.jsx)("p",{className:F,children:s.text}),(0,w.jsxs)("div",{className:O,children:[(0,w.jsx)("img",{src:D,alt:"finger"}),(0,w.jsxs)("p",{className:L,children:["Likes Count: ",s.likes]})]})]})})})},z=t(6864),G=t(4820),J=l.memo((function(s){var e=s.postText.map((function(s){return(0,w.jsx)(q,{text:s.text,likes:s.likes},s.id)}));return(0,w.jsx)("div",{children:(0,w.jsxs)("div",{className:y,children:[(0,w.jsx)("p",{className:I,children:"My Posts"}),(0,w.jsx)(R,{addPost:s.addPost}),e]})})})),R=function(s){return(0,w.jsx)(z.J9,{initialValues:{newPost:""},validationSchema:G.MR,onSubmit:function(e){s.addPost(e.newPost)},children:function(s){var e=s.errors,t=s.touched;return(0,w.jsxs)(z.l0,{className:S,children:[(0,w.jsxs)("div",{className:M,children:[(0,G.Gr)("New Post","newPost","text",G.MR),e.newPost&&t.newPost?(0,w.jsx)("p",{className:C,children:e.newPost}):null]}),(0,w.jsx)("button",{className:Z,type:"submit",children:"New Post"})]})}})},K=J,B=t(6508),E=t(364),Q=(0,E.$j)((function(s){return{postText:s.profilePage.postText,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(e){s((0,B.Wl)(e))}}}))(K),W=function(s){return(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{className:u.background,children:(0,w.jsx)("div",{className:u.center,children:(0,w.jsx)(k,{isOwner:s.isOwner,savePhoto:s.savePhoto,profile:s.profile,status:s.status,updateStatus:s.updateStatus})})}),(0,w.jsx)(Q,{})]})},X=t(1045),$=t(7781),H=function(s){(0,r.Z)(t,s);var e=(0,n.Z)(t);function t(){return(0,i.Z)(this,t),e.apply(this,arguments)}return(0,o.Z)(t,[{key:"refreshProfile",value:function(){var s=this.props.match.params.userId;s||(s=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(s),this.props.getStatus(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e,t){this.props.match.params.userId!==s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,w.jsx)(W,(0,a.Z)((0,a.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),t}(l.Component),V=(0,$.qC)((0,E.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:B.et,getStatus:B.lR,updateStatus:B.Nf,savePhoto:B.Ju}),X.withRouter)(H)},6596:function(s,e,t){s.exports=t.p+"static/media/avatar.cbb33afd2b42ae6acbbd.png"},7151:function(s,e,t){s.exports=t.p+"static/media/like.6dc22afeea1bdc9e9a32.png"}}]);
//# sourceMappingURL=780.51d426bd.chunk.js.map