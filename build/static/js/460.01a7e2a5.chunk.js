"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[460],{1460:function(e,s,t){t.r(s),t.d(s,{default:function(){return te}});var o=t(1413),i=t(5671),r=t(3144),a=t(136),n=t(3668),l=t(2791),c=t(6596),u={background:"ProfileInfo_background__aSEaE",name:"ProfileInfo_name__nzLXx",aboutMe:"ProfileInfo_aboutMe__l7xQO",job:"ProfileInfo_job__4-3LH",description:"ProfileInfo_description__u7GZ5",ava:"ProfileInfo_ava__Zv058",circle:"ProfileInfo_circle__rrF53",inputfile:"ProfileInfo_inputfile__-smF3",upload:"ProfileInfo_upload__OKigD"},d=t(3560),p=t(885),f="ProfileStatus_status__-xoik",h="ProfileStatus_editStatus__eytKj",x=t(184),_=function(e){var s=(0,l.useState)(!1),t=(0,p.Z)(s,2),o=t[0],i=t[1],r=(0,l.useState)(e.status),a=(0,p.Z)(r,2),n=a[0],c=a[1];(0,l.useEffect)((function(){c(e.status)}),[e.status]);return(0,x.jsxs)("div",{children:[!o&&(0,x.jsx)("div",{className:f,children:(0,x.jsx)("p",{onDoubleClick:function(){i(!0)},children:e.status||"-----"})}),o&&(0,x.jsx)("div",{className:h,children:(0,x.jsx)("input",{autoFocus:!0,onBlur:function(){i(!1),e.updateStatus(n)},onChange:function(e){c(e.currentTarget.value)},value:n})})]})},m="Edit_wrapper__2BCXT",j="Edit_box__1uF0N",v="Edit_editButton__p8upz",P="Edit_text__Y+wK0",b=t(4820),N="ProfileDataForm_socialInfo__Vqr3V",g="ProfileDataForm_editButton__81GPB",k="ProfileDataForm_lookingForAJob__AG2sa",w="ProfileDataForm_req__yGaeV",y=t(6864),F=function(e){var s=e.saveProfile,t=e.goToSaveMode,o=e.profile;return(0,x.jsx)(y.J9,{initialValues:{fullName:o.fullName,lookingForAJobDescription:o.lookingForAJobDescription,aboutMe:o.aboutMe,lookingForAJob:o.lookingForAJob,contacts:o.contacts},onSubmit:function(e,o){var i=o.setStatus;s(e,i).then((function(){t()}))},children:function(e){var s=e.status;return(0,x.jsx)(y.l0,{children:(0,x.jsxs)("div",{children:[Object.keys(o.contacts).map((function(e){return(0,x.jsx)("div",{className:N,children:(0,x.jsxs)("p",{children:[e,": ",(0,b.Gr)(e,"contacts."+e,"text")]})})})),(0,x.jsxs)("div",{className:N,children:[(0,x.jsx)("p",{children:"Full name"})," ",(0,b.Gr)("Full name","fullName","text"),(0,x.jsx)("p",{children:"My skills:"}),(0,b.Gr)("My skills:","lookingForAJobDescription","text"),(0,x.jsx)("p",{children:"About me:"}),(0,b.Gr)("About me:","aboutMe","text"),(0,x.jsx)("div",{className:k,children:(0,b.Gr)("null","lookingForAJob","checkbox",null,null,"Looking for a job")})]}),(0,x.jsx)("b",{className:w,children:s}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{type:"submit",className:g,children:(0,x.jsx)("p",{children:"Save"})})})]})})}})},M=function(e){var s=e.profile,t=e.isOwner,o=e.saveProfile,i=(0,l.useState)(!1),r=(0,p.Z)(i,2),a=r[0],n=r[1];return(0,x.jsxs)("div",{className:m,children:[(0,x.jsx)("p",{children:"Contacts"}),(0,x.jsx)("div",{className:j,children:a?(0,x.jsx)(F,{profile:s,saveProfile:o,goToSaveMode:function(){n(!1)}}):(0,x.jsx)(S,{profile:s,isOwner:t,goToEditMode:function(){n(!0)}})})]})},S=function(e){var s=e.profile,t=e.isOwner,o=e.goToEditMode;return(0,x.jsxs)("div",{children:[Object.keys(s.contacts).map((function(e){return(0,x.jsx)(I,{contactTitle:e,contactValue:s.contacts[e]},e)})),(0,x.jsxs)("p",{children:["Looking for a job :",(0,x.jsx)("b",{className:P,children:s.lookingForAJob?"yes":"no"})]}),s.lookingForAJob&&(0,x.jsxs)("p",{children:["My skills:",(0,x.jsx)("b",{className:P,children:s.lookingForAJobDescription})]}),t&&(0,x.jsx)("button",{onClick:o,className:v,children:(0,x.jsx)("p",{children:"Edit"})})]})},I=function(e){var s=e.contactTitle,t=e.contactValue;return(0,x.jsx)("div",{children:(0,x.jsxs)("p",{children:[s," : ",(0,x.jsx)("b",{className:P,children:t})]})})},A=function(e){var s=e.profile,t=e.status,o=e.updateStatus,i=e.isOwner,r=e.savePhoto,a=e.saveProfile;if(!s)return(0,x.jsx)(d.Z,{});return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:u.background,children:(0,x.jsxs)("div",{className:u.center,children:[(0,x.jsx)("div",{className:u.ava,children:(0,x.jsx)("img",{src:null!=s.photos.small?s.photos.small:c,className:u.circle,alt:"profilePicture"})}),(0,x.jsxs)("div",{className:u.description,children:[(0,x.jsx)("p",{className:u.name,children:s.fullName}),(0,x.jsx)(_,{status:t,updateStatus:o}),(0,x.jsx)("p",{className:u.aboutMe,children:s.aboutMe}),i&&(0,x.jsxs)("div",{children:[(0,x.jsx)("input",{onChange:function(e){e.target.files.length&&r(e.target.files[0])},type:"file",id:"FileUpload",className:u.inputfile}),(0,x.jsx)("label",{htmlFor:"FileUpload",className:u.upload,children:"Upload Photo"})]})]})]})}),(0,x.jsx)(M,{profile:s,isOwner:i,saveProfile:a})]})},T="MyPosts_box__bfQAZ",J="MyPosts_title__Ln5To",Z="MyPosts_form__hrebz",C="MyPosts_button__TKXtI",O="MyPosts_addPostInput__dAfsT",D="MyPosts_postreq__U5tpU",E="NewPost_new__vThmF",G="NewPost_postBlock__COEfq",U="NewPost_text__eZLh5",L="NewPost_likes__y8GJW",V="NewPost_likesCount__198qo",q="NewPost_ava__4LY6w",B=t(7151),z=function(e){return(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:E,children:(0,x.jsxs)("div",{className:G,children:[(0,x.jsx)("div",{className:q,children:(0,x.jsx)("img",{src:c,alt:"profilePicture"})}),(0,x.jsx)("p",{className:U,children:e.text}),(0,x.jsxs)("div",{className:L,children:[(0,x.jsx)("img",{src:B,alt:"finger"}),(0,x.jsxs)("p",{className:V,children:["Likes Count: ",e.likes]})]})]})})})},K=l.memo((function(e){var s=e.postText.map((function(e){return(0,x.jsx)(z,{text:e.text,likes:e.likes},e.id)}));return(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:T,children:[(0,x.jsx)("p",{className:J,children:"My Posts"}),(0,x.jsx)(R,{addPost:e.addPost}),s]})})})),R=function(e){return(0,x.jsx)(y.J9,{initialValues:{newPost:""},validationSchema:b.MR,onSubmit:function(s){e.addPost(s.newPost)},children:function(e){var s=e.errors,t=e.touched;return(0,x.jsxs)(y.l0,{className:Z,children:[(0,x.jsxs)("div",{className:O,children:[(0,b.Gr)("New Post","newPost","text",b.MR),s.newPost&&t.newPost?(0,x.jsx)("p",{className:D,children:s.newPost}):null]}),(0,x.jsx)("button",{className:C,type:"submit",children:"New Post"})]})}})},X=K,Q=t(6508),W=t(364),Y=(0,W.$j)((function(e){return{postText:e.profilePage.postText,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(s){e((0,Q.Wl)(s))}}}))(X),$=function(e){return(0,x.jsxs)("div",{children:[(0,x.jsx)(A,{isOwner:e.isOwner,savePhoto:e.savePhoto,profile:e.profile,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile}),(0,x.jsx)(Y,{})]})},H=t(1045),ee=t(7781),se=function(e){(0,a.Z)(t,e);var s=(0,n.Z)(t);function t(){return(0,i.Z)(this,t),s.apply(this,arguments)}return(0,r.Z)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,x.jsx)($,(0,o.Z)((0,o.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),t}(l.Component),te=(0,ee.qC)((0,W.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:Q.et,getStatus:Q.lR,updateStatus:Q.Nf,savePhoto:Q.Ju,saveProfile:Q.Ii}),H.withRouter)(se)},6596:function(e,s,t){e.exports=t.p+"static/media/avatar.cbb33afd2b42ae6acbbd.png"},7151:function(e,s,t){e.exports=t.p+"static/media/like.6dc22afeea1bdc9e9a32.png"}}]);
//# sourceMappingURL=460.01a7e2a5.chunk.js.map