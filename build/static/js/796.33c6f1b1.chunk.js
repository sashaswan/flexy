"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[796],{7796:function(e,t,s){s.r(t),s.d(t,{default:function(){return Q}});var o=s(1413),i=s(5671),n=s(3144),r=s(136),a=s(3668),l=s(2791),u=s(6596),c={background:"ProfileInfo_background__aSEaE",name:"ProfileInfo_name__nzLXx",aboutMe:"ProfileInfo_aboutMe__l7xQO",job:"ProfileInfo_job__4-3LH",description:"ProfileInfo_description__u7GZ5",ava:"ProfileInfo_ava__Zv058",circle:"ProfileInfo_circle__rrF53",inputfile:"ProfileInfo_inputfile__-smF3",upload:"ProfileInfo_upload__OKigD"},d=s(3560),p=s(885),f="ProfileStatus_status__-xoik",h="ProfileStatus_editStatus__eytKj",x=s(184),_=function(e){var t=(0,l.useState)(!1),s=(0,p.Z)(t,2),o=s[0],i=s[1],n=(0,l.useState)(e.status),r=(0,p.Z)(n,2),a=r[0],u=r[1];(0,l.useEffect)((function(){u(e.status)}),[e.status]);return(0,x.jsxs)("div",{children:[!o&&(0,x.jsx)("div",{className:f,children:(0,x.jsx)("p",{onDoubleClick:function(){i(!0)},children:e.status||"-----"})}),o&&(0,x.jsx)("div",{className:h,children:(0,x.jsx)("input",{autoFocus:!0,onBlur:function(){i(!1),e.updateStatus(a)},onChange:function(e){u(e.currentTarget.value)},value:a})})]})},j={wrapper:"Edit_wrapper__2BCXT",box:"Edit_box__1uF0N",editButton:"Edit_editButton__p8upz"},m=s(4820),v=s(6864),P=function(e){var t=e.saveProfile,s=e.goToSaveMode,o=e.profile;return(0,x.jsx)(v.J9,{initialValues:{fullName:o.fullName,lookingForAJobDescription:o.lookingForAJobDescription,aboutMe:o.aboutMe,lookingForAJob:o.lookingForAJob,contacts:o.contacts},onSubmit:function(e,o){var i=o.setStatus;t(e,i).then((function(){s()}))},children:function(e){var t=e.status;return(0,x.jsx)(v.l0,{children:(0,x.jsxs)("div",{children:[Object.keys(o.contacts).map((function(e){return(0,x.jsx)("div",{children:(0,x.jsxs)("p",{children:[e,": ",(0,m.Gr)(e,"contacts."+e,"text")]})})})),(0,x.jsx)("p",{children:"Full name"})," ",(0,m.Gr)("Full name","fullName","text"),(0,x.jsx)("p",{children:"My skills:"}),(0,m.Gr)("My skills:","lookingForAJobDescription","text"),(0,x.jsx)("p",{children:"About me:"}),(0,m.Gr)("About me:","aboutMe","text"),(0,m.Gr)("null","lookingForAJob","checkbox",null,null,"Looking for a job"),(0,x.jsx)("p",{className:j.loginReq,children:t}),(0,x.jsx)("button",{type:"submit",className:j.editButton,children:(0,x.jsx)("p",{children:"Save"})})]})})}})},b=function(e){var t=e.profile,s=e.isOwner,o=e.saveProfile,i=(0,l.useState)(!1),n=(0,p.Z)(i,2),r=n[0],a=n[1];return(0,x.jsxs)("div",{className:j.wrapper,children:[(0,x.jsx)("p",{children:"Contacts"}),(0,x.jsx)("div",{className:j.box,children:r?(0,x.jsx)(P,{profile:t,saveProfile:o,goToSaveMode:function(){a(!1)}}):(0,x.jsx)(N,{profile:t,isOwner:s,goToEditMode:function(){a(!0)}})})]})},N=function(e){var t=e.profile,s=e.isOwner,o=e.goToEditMode;return(0,x.jsxs)("div",{children:[Object.keys(t.contacts).map((function(e){return(0,x.jsx)(g,{contactTitle:e,contactValue:t.contacts[e]},e)})),(0,x.jsxs)("p",{children:["Looking for a job :",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&(0,x.jsxs)("p",{children:["My skills:",t.lookingForAJobDescription]}),s&&(0,x.jsx)("button",{onClick:o,className:j.editButton,children:(0,x.jsx)("p",{children:"Edit"})})]})},g=function(e){var t=e.contactTitle,s=e.contactValue;return(0,x.jsx)("div",{children:(0,x.jsxs)("p",{children:[t," : ",s]})})},k=function(e){var t=e.profile,s=e.status,o=e.updateStatus,i=e.isOwner,n=e.savePhoto,r=e.saveProfile;if(!t)return(0,x.jsx)(d.Z,{});return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:c.background,children:(0,x.jsxs)("div",{className:c.center,children:[(0,x.jsx)("div",{className:c.ava,children:(0,x.jsx)("img",{src:null!=t.photos.small?t.photos.small:u,className:c.circle,alt:"profilePicture"})}),(0,x.jsxs)("div",{className:c.description,children:[(0,x.jsx)("p",{className:c.name,children:t.fullName}),(0,x.jsx)(_,{status:s,updateStatus:o}),(0,x.jsx)("p",{className:c.aboutMe,children:t.aboutMe}),i&&(0,x.jsxs)("div",{children:[(0,x.jsx)("input",{onChange:function(e){e.target.files.length&&n(e.target.files[0])},type:"file",id:"FileUpload",className:c.inputfile}),(0,x.jsx)("label",{htmlFor:"FileUpload",className:c.upload,children:"Upload Photo"})]})]})]})}),(0,x.jsx)(b,{profile:t,isOwner:i,saveProfile:r})]})},w="MyPosts_box__bfQAZ",y="MyPosts_title__Ln5To",M="MyPosts_form__hrebz",S="MyPosts_button__TKXtI",F="MyPosts_addPostInput__dAfsT",I="MyPosts_postreq__U5tpU",T="NewPost_new__vThmF",A="NewPost_postBlock__COEfq",Z="NewPost_text__eZLh5",C="NewPost_likes__y8GJW",J="NewPost_likesCount__198qo",O="NewPost_ava__4LY6w",E=s(7151),U=function(e){return(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:T,children:(0,x.jsxs)("div",{className:A,children:[(0,x.jsx)("div",{className:O,children:(0,x.jsx)("img",{src:u,alt:"profilePicture"})}),(0,x.jsx)("p",{className:Z,children:e.text}),(0,x.jsxs)("div",{className:C,children:[(0,x.jsx)("img",{src:E,alt:"finger"}),(0,x.jsxs)("p",{className:J,children:["Likes Count: ",e.likes]})]})]})})})},D=l.memo((function(e){var t=e.postText.map((function(e){return(0,x.jsx)(U,{text:e.text,likes:e.likes},e.id)}));return(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:w,children:[(0,x.jsx)("p",{className:y,children:"My Posts"}),(0,x.jsx)(G,{addPost:e.addPost}),t]})})})),G=function(e){return(0,x.jsx)(v.J9,{initialValues:{newPost:""},validationSchema:m.MR,onSubmit:function(t){e.addPost(t.newPost)},children:function(e){var t=e.errors,s=e.touched;return(0,x.jsxs)(v.l0,{className:M,children:[(0,x.jsxs)("div",{className:F,children:[(0,m.Gr)("New Post","newPost","text",m.MR),t.newPost&&s.newPost?(0,x.jsx)("p",{className:I,children:t.newPost}):null]}),(0,x.jsx)("button",{className:S,type:"submit",children:"New Post"})]})}})},L=D,B=s(6508),q=s(364),z=(0,q.$j)((function(e){return{postText:e.profilePage.postText,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e((0,B.Wl)(t))}}}))(L),R=function(e){return(0,x.jsxs)("div",{children:[(0,x.jsx)(k,{isOwner:e.isOwner,savePhoto:e.savePhoto,profile:e.profile,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile}),(0,x.jsx)(z,{})]})},V=s(1045),K=s(7781),X=function(e){(0,r.Z)(s,e);var t=(0,a.Z)(s);function s(){return(0,i.Z)(this,s),t.apply(this,arguments)}return(0,n.Z)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,x.jsx)(R,(0,o.Z)((0,o.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),s}(l.Component),Q=(0,K.qC)((0,q.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:B.et,getStatus:B.lR,updateStatus:B.Nf,savePhoto:B.Ju,saveProfile:B.Ii}),V.withRouter)(X)},6596:function(e,t,s){e.exports=s.p+"static/media/avatar.cbb33afd2b42ae6acbbd.png"},7151:function(e,t,s){e.exports=s.p+"static/media/like.6dc22afeea1bdc9e9a32.png"}}]);
//# sourceMappingURL=796.33c6f1b1.chunk.js.map